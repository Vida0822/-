<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title> Insert title here</title>
<link rel="shortcut icon" type="image/x-icon" href="../images/SiSt.ico">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
</head>
<body>

<h3> setTimeout() / clearTimeout() </h3>
<!--  setTimeout(): 일정 시간후에 함수를 실행시키기 위해 사용하는 함수 
-> 인자값을 실행할 함수 , 지연시킬 초 , 두개를 받는다  -->

<h1 id = "out"></h1>
<button> setTimeout </button>
<button> clearTimeout </button>

<script>
$("button").first().on("click", function() {
	dispTime(); 
})

let timer1; 
function dispTime() {
	const now = new Date(); 
	// 현재 날짜, 시간 객체 생성해서 변수 now에 대입 
	$("#out").html(now.toLocaleString()); 
	// id=out인 요소, 즉 h1요소를 가져와 현재날짜 객체를 LocaleString 형식 String으로 출력 
	timer1 = setTimeout( dispTime , 1000); 
	// 이 dispTime이 실행되면, 출력한 후 1초 있다가 dispTime, 즉 함수 자기자신을 실행 
	// -> 그 disp함수에서 또 날짜객체 생성해 출력하고 또 dispTime함수 호출 
	// ==> 1초마다 현재 시각을 출력한다 
	// 이 setTimeout 함수 실행시 생성되는 타이머객체 timer1에 대입 
	// 타이머객체 : 1초뒤에 dispTime 함수를 실행하는 타이머객체 생성 
	// -> 이계 1초마다 반복적으로 생성됨 (자기호출)
}

$("button").last().on("click", function() {
	clearTimeout(timer1); 
	// 실행되고 있는 타이머(timer1에 대입되있는거) 중지, 즉 만들어진 타이머 객체 (실행예쩡인) 삭제
	// 0.3초뒤면 실행될 타이머 객체 -> 중지 -> dispTime함수(자기자신)을 호출하지 ㅇ낳는다 -> 타이머 객체는 다시 만들ㅇ저ㅣ지 않음 
})


</script>
</body>
</html>